f1=open('test.txt') #objdump of all misc functions
f2=open('out.txt', 'a+')
f3=open("test2.txt") #gdb disassembly of main
lines=f1.readlines()
lines2=f3.readlines()
func_list=[]
for i in range(len(lines2)):
    if "<f" in lines2[i]:
        temp=lines2[i].split(" ")
        for j in temp:
            if "<f" in j:
                value=j
                value=value.replace("\n","")
                func_list.append(value)
values = {}
for i in range(len(lines)):
    if any(ele in lines[i-5] for ele in func_list) or any(ele in lines[i-7] for ele in func_list):
        if "add" in lines[i]:
            temp=lines[i].split(" ")
            for j in temp:
                if "0x" in j:
                    temp2=j.split(",")
                    for k in temp2:
                        if "0x" in k and len(k)<8:
                            value1=int(k,16)
        if "cmp" in lines[i]:
            temp=lines[i].split(" ")
            for j in temp:
                if "0x" in j:
                    temp2=j.split(",")
                    for k in temp2:
                        if "0x" in k and len(k)<8:
                            value2=int(k,16)
                            if values.get(value1) == None:
                                values.update( {value1 : value2} )

s=""
for i in sorted (values) : 
    f2.write(str(values[i])+"\n")
    s+=chr(values[i])

print s