from pwn import *
import sys

binary = [
    '/home/d4rk_kn1gh7/browsers/outfoxed/gecko-dev/obj-x86_64-pc-linux-gnu/dist/bin/js',
    './exp.js'
]

# context.log_level = 'DEBUG'
context.terminal = ['tmux', 'splitw', '-h']

if len(sys.argv) > 1:
    if int(sys.argv[1]) > 1:
        io = remote('outfoxed.be.ax', int(sys.argv[1]))
        f = open('exp.js', 'r')
        data = f.read() + 'EOF'
        io.sendlineafter('EOF: \n', data)
        io.interactive()
    else:
        io = gdb.debug(binary)
        io.interactive()

else:
    io = process(binary)

    io.interactive()